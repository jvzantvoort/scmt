# Server Configuration
# Generated on: {{.Timestamp}}
# Generated by: {{.Engineer}}

[server]
type = "{{.Config.TYPE}}"
owner = "{{.Config.OWNER}}"
{{if .Config.ENVIRONMENT}}environment = "{{.Config.ENVIRONMENT}}"{{else}}environment = "development"{{end}}

[location]
country = "{{.Config.COUNTRY_CODE}}"
region = "{{.Config.REGION_CODE}}"
timezone = "{{.Config.TIMEZONE}}"

{{if .Config.COMPUTE_ZONE}}
[compute]
zone = "{{.Config.COMPUTE_ZONE}}"
region = "{{.Config.COMPUTE_REGION}}"
{{end}}

[roles]
enabled = [{{range $i, $role := .Roles}}{{if $i}}, {{end}}"{{$role}}"{{end}}]

{{if .HasRole "web-server"}}
[web]
enabled = true
port = 8080
{{end}}

{{if .HasRole "database"}}
[database]
enabled = true
port = 5432
{{end}}

# Available roles: {{join .Roles ", "}}
# Total roles: {{len .Roles}}